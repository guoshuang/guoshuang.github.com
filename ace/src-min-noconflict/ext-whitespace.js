ace.define("ace/ext/whitespace",["require","exports","module","ace/lib/lang"],function(e,t){var i=e("../lib/lang");t.$detectIndentation=function(e){function t(e){for(var t=0,n=e;n<i.length;n+=e)t+=i[n]||0;return t}for(var i=[],n=[],r=0,o=0,s=Math.min(e.length,1e3),a=0;s>a;a++){var u=e[a];if(/^\s*[^*+\-\s]/.test(u)){u.match(/^\t*/)[0].length,"	"==u[0]&&r++;var l=u.match(/^ */)[0].length;if(l&&"	"!=u[l]){var c=l-o;c>0&&!(o%c)&&!(l%c)&&(n[c]=(n[c]||0)+1),i[l]=(i[l]||0)+1}for(o=l;"\\"==u[u.length-1];)u=e[a++]}}for(var h=n.reduce(function(e,t){return e+t},0),d={score:0,length:0},g=0,a=1;12>a;a++){if(1==a){g=t(a);var p=1}else var p=t(a)/g;n[a]&&(p+=n[a]/h),p>d.score&&(d={score:p,length:a})}if(d.score&&d.score>1.4)var m=d.length;return r>g+1?{ch:"	",length:m}:g+1>r?{ch:" ",length:m}:void 0},t.detectIndentation=function(e){var i=e.getLines(0,1e3),n=t.$detectIndentation(i)||{};return n.ch&&e.setUseSoftTabs(" "==n.ch),n.length&&e.setTabSize(n.length),n},t.trimTrailingSpace=function(e,t){for(var i=e.getDocument(),n=i.getAllLines(),r=t?-1:0,o=0,s=n.length;s>o;o++){var a=n[o],u=a.search(/\s+$/);u>r&&i.removeInLine(o,u,a.length)}},t.convertIndentation=function(e,t,n){var r=e.getTabString()[0],o=e.getTabSize();n||(n=o),t||(t=r);for(var s="	"==t?t:i.stringRepeat(t,n),a=e.doc,u=a.getAllLines(),l={},c={},h=0,d=u.length;d>h;h++){var g=u[h],p=g.match(/^\s*/)[0];if(p){var m=e.$getStringScreenWidth(p)[0],f=Math.floor(m/o),E=m%o,F=l[f]||(l[f]=i.stringRepeat(s,f));F+=c[E]||(c[E]=i.stringRepeat(" ",E)),F!=p&&(a.removeInLine(h,0,p.length),a.insertInLine({row:h,column:0},F))}}e.setTabSize(n),e.setUseSoftTabs(" "==t)},t.$parseStringArg=function(e){var t={};/t/.test(e)?t.ch="	":/s/.test(e)&&(t.ch=" ");var i=e.match(/\d+/);return i&&(t.length=parseInt(i[0],10)),t},t.$parseArg=function(e){return e?"string"==typeof e?t.$parseStringArg(e):"string"==typeof e.text?t.$parseStringArg(e.text):e:{}},t.commands=[{name:"detectIndentation",exec:function(e){t.detectIndentation(e.session)}},{name:"trimTrailingSpace",exec:function(e){t.trimTrailingSpace(e.session)}},{name:"convertIndentation",exec:function(e,i){var n=t.$parseArg(i);t.convertIndentation(e.session,n.ch,n.length)}},{name:"setIndentation",exec:function(e,i){var n=t.$parseArg(i);n.length&&e.session.setTabSize(n.length),n.ch&&e.session.setUseSoftTabs(" "==n.ch)}}]});