ace.define("ace/ext/static_highlight",["require","exports","module","ace/edit_session","ace/layer/text","ace/config","ace/lib/dom"],function(e,t){var i=e("../edit_session").EditSession,n=e("../layer/text").Text,r=".ace_static_highlight {font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', 'Droid Sans Mono', monospace;font-size: 12px;}.ace_static_highlight .ace_gutter {width: 25px !important;display: block;float: left;text-align: right;padding: 0 3px 0 0;margin-right: 3px;position: static !important;}.ace_static_highlight .ace_line { clear: both; }.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;}",o=e("../config"),s=e("../lib/dom");t.render=function(e,n,r,s,a,u){function l(){var i=t.renderSync(e,n,r,s,a);return u?u(i):i}var c=0,h=i.prototype.$modes;return"string"==typeof r&&(c++,o.loadModule(["theme",r],function(e){r=e,--c||l()})),"string"==typeof n&&(c++,o.loadModule(["mode",n],function(e){h[n]||(h[n]=new e.Mode),n=h[n],--c||l()})),c||l()},t.renderSync=function(e,t,o,s,a){s=parseInt(s||1,10);var u=new i("");u.setUseWorker(!1),u.setMode(t);var l=new n(document.createElement("div"));l.setSession(u),l.config={characterWidth:10,lineHeight:20},u.setValue(e);for(var c=[],h=u.getLength(),d=0;h>d;d++)c.push("<div class='ace_line'>"),a||c.push("<span class='ace_gutter ace_gutter-cell' unselectable='on'>"+(d+s)+"</span>"),l.$renderLine(c,d,!0,!1),c.push("</div>");var g="<div class='"+o.cssClass+"'>"+"<div class='ace_static_highlight'>"+c.join("")+"</div>"+"</div>";return l.destroy(),{css:r+o.cssText,html:g}},t.highlight=function(e,i,n){var r=e.className.match(/lang-(\w+)/),o=i.mode||r&&"ace/mode/"+r[1];if(!o)return!1;var a=i.theme||"ace/theme/textmate",u="",l=[];if(e.firstElementChild)for(var c=0,h=0;h<e.childNodes.length;h++){var d=e.childNodes[h];3==d.nodeType?(c+=d.data.length,u+=d.data):l.push(c,d)}else u=s.getInnerText(e);t.render(u,o,a,1,!0,function(t){s.importCssString(t.css,"ace_highlight"),e.innerHTML=t.html;for(var i=e.firstChild.firstChild,r=0;r<l.length;r+=2){var o=t.session.doc.indexToPosition(l[r]),a=(l[r+1],i.children[o.row]);a&&a.appendChild(l[r+1])}n&&n()})}});