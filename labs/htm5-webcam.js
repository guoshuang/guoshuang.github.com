navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,jQuery(function(u){function E(){console.log("发生错误！")}function F(){var u=e.width(),E=e.height();a.attr({width:u,height:E}),i.attr({width:u,height:E}),n&&(C.drawImage(e[0],0,0),i.attr("src",a[0].toDataURL("image/webp")))}var e=u("#yourcam");navigator.getUserMedia?navigator.getUserMedia({video:{mandatory:{minWidth:1280,minHeight:720}}},function(u){e.attr("src",window.URL.createObjectURL(u)),n=u},E):console.log("你的浏览器不支持！");var i=u("#yourcam-screenshot"),a=u("#yourcam-canvas"),C=a[0].getContext("2d"),n=null;u("#yourcam-btn")[0].addEventListener("click",F,!1);var t=["blur","brightness","contrast","hue-rotate","hue-rotate2","hue-rotate3","saturate","grayscale","sepia","invert"],D="";u.each(t,function(u,E){D+="<span>"+E+"</span>"}),u("#webcam-filters").html(D).on("click","span",function(){u(this).siblings().removeClass("active"),alert(1),e.removeClass().addClass(u(this).text())})});