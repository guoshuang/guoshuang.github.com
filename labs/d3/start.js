!function(){var e=document.getElementById("d3-container"),t=e.clientWidth<e.clientHeight?e.clientWidth:e.clientHeight,n=e.clientWidth,r=e.clientHeight,o=2*Math.PI,i=0,a=2329077,s=d3.format(".0%"),c=d3.svg.arc().startAngle(0).innerRadius(t/2-100).outerRadius(t/2-50),l=d3.select("#d3-container").append("svg").attr("width",n).attr("height",r).append("g").attr("transform","translate("+n/2+","+r/2+")"),u=l.append("g").attr("class","progress-meter");u.append("path").attr("class","background").attr("d",c.endAngle(o));var d=u.append("path").attr("class","foreground"),g=u.append("text").attr("text-anchor","middle").attr("dy",".35em");d3.json("/labs/2.mp3?"+Math.random()).on("progress",function(){var e=d3.interpolate(i,d3.event.loaded/a);d3.transition().tween("progress",function(){return function(t){i=e(t),d.attr("d",c.endAngle(o*i)),g.text(s(i)),"100%"==g.text()&&g.text("完成！").attr("fill","red")}})}).get(function(){})}();