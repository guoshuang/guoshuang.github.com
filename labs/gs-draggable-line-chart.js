jQuery(function(u){function E(){var F='<svg height="100%" width="100%" style="background:#eee;">',C=(B-2*r)/(A.length-1),i=(e-2*r)/a;u.each(A,function(u,E){x1=C*u+r,y1=e-i*E-r,u!=o-1&&(x2=C*(u+1)+r,y2=e-i*A[u+1]-r,F+='<line x1="'+x1+'" y1="'+y1+'" x2="'+x2+'" y2="'+y2+'" style="stroke:rgb(255,0,0);stroke-width:2" />'),F+='<circle id="c_'+u+'" cx="'+x1+'" r="'+l+'" cy="'+y1+'" fill="'+s+'" />'}),F+="</svg>",D.html(F);var c,p;D.find("circle").draggable({axis:"y",containment:D,start:function(u,E){c=E.position.left,p=E.position.top},stop:function(F,C){u(this).attr("cx")-c+C.position.left;var D=u(this).attr("cy")-p+C.position.top,B=u(this).attr("id").substr(2);A[B]=((e-2*r-D+r)/i).toFixed(n),t.val(A.join(",")),E()}})}function F(u,E){return onresize=function(){clearTimeout(E),E=setTimeout(u,100)},u}var C=u("#gs-draggable-line-chart-div"),t=C.find("input"),D=C.find(".svg"),B=D.width(),e=D.height(),n=1,A=[],a=10,o=5,r=10,l=5,s="rgba(255,0,0,0.5)";for(i=0;o>i;i++)A.push(Math.floor(Math.random()*a));t.val(A),E(),t.on("blur",function(){try{A=u(this).val().split(",")}catch(F){alert(F)}a=Math.max.apply(Math,A),o=A.length,E()}),F(function(){B=D.width(),E()})});