!function(e){var t,n,r=e(document),o=e(window),i=function(){var t=e.deck("getOptions"),r=e.deck("getContainer"),o=t.baseHeight;o||(o=r.height()),e.each(n,function(e,n){var i=n.innerHeight(),a=n.find("."+t.classes.scaleSlideWrapper),s=r.hasClass(t.classes.scale),c=s?o/i:1;1===c?a.css("transform",""):(a.css("transform","scale("+c+")"),window.setTimeout(function(){r.scrollTop(0)},1))})},a=function(){var t=e.deck("getOptions"),r=e.map([t.classes.before,t.classes.previous,t.classes.current,t.classes.next,t.classes.after],function(e){return"."+e}).join(", ");n=[],e.each(e.deck("getSlides"),function(e,o){var i=o.parentsUntil(t.selectors.container,r);i.length||n.push(o)})},s=function(){var t=e.deck("getOptions"),r='<div class="'+t.classes.scaleSlideWrapper+'"/>';e.each(n,function(e,t){t.children().wrapAll(r)})},c=function(){var n=e.deck("getOptions");o.unbind("resize.deckscale"),o.bind("resize.deckscale",function(){window.clearTimeout(t),t=window.setTimeout(i,n.scaleDebounce)}),e.deck("enableScale"),o.unbind("load.deckscale"),o.bind("load.deckscale",i)},l=function(){var t=e.deck("getOptions");r.unbind("keydown.deckscale"),r.bind("keydown.deckscale",function(n){var r=n.which===t.keys.scale;r=r||e.inArray(n.which,t.keys.scale)>-1,r&&(e.deck("toggleScale"),n.preventDefault())})};e.extend(!0,e.deck.defaults,{classes:{scale:"deck-scale",scaleSlideWrapper:"deck-slide-scaler"},keys:{scale:83},baseHeight:null,scaleDebounce:200}),e.deck("extend","disableScale",function(){e.deck("getContainer").removeClass(e.deck("getOptions").classes.scale),i()}),e.deck("extend","enableScale",function(){e.deck("getContainer").addClass(e.deck("getOptions").classes.scale),i()}),e.deck("extend","toggleScale",function(){var t=e.deck("getContainer"),n=t.hasClass(e.deck("getOptions").classes.scale);e.deck(n?"disableScale":"enableScale")}),r.bind("deck.init",function(){a(),s(),c(),l()})}(jQuery,"deck",this);