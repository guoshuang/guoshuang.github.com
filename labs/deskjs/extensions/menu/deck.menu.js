!function(e){var t=e(document);e("html");var n,r=function(){var t=e.deck("getOptions"),r=e.map([t.classes.before,t.classes.previous,t.classes.current,t.classes.next,t.classes.after],function(e){return"."+e}).join(", ");n=[],e.each(e.deck("getSlides"),function(e,o){var i=o.parentsUntil(t.selectors.container,r);i.length||n.push(o)})},o=function(){var n=e.deck("getOptions");t.unbind("keydown.deckmenu"),t.bind("keydown.deckmenu",function(t){var r=t.which===n.keys.menu;r=r||e.inArray(t.which,n.keys.menu)>-1,r&&!t.ctrlKey&&(e.deck("toggleMenu"),t.preventDefault())})},i=function(){var t,n=e.deck("getContainer"),r=e.deck("getOptions"),o=0;n.unbind("touchstart.deckmenu"),n.bind("touchstart.deckmenu",function(){t=e.deck("getSlide")}),n.unbind("touchend.deckmenu"),n.bind("touchend.deckmenu",function(n){var i=Date.now(),a=i-o<r.touch.doubletapWindow;t===e.deck("getSlide")&&(a&&(e.deck("toggleMenu"),n.preventDefault()),o=i)})},a=function(){var t=e.deck("getOptions");e.each(e.deck("getSlides"),function(n,r){r.unbind("click.deckmenu"),r.bind("click.deckmenu",function(r){e.deck("getContainer").hasClass(t.classes.menu)&&(e.deck("go",n),e.deck("hideMenu"),r.stopPropagation(),r.preventDefault())})})};e.extend(!0,e.deck.defaults,{classes:{menu:"deck-menu"},keys:{menu:77},touch:{doubletapWindow:400}}),e.deck("extend","showMenu",function(){var t=e.deck("getContainer"),r=e.deck("getOptions");t.hasClass(r.classes.menu)||(t.addClass([r.classes.loading,r.classes.menu].join(" ")),Modernizr.csstransforms&&e.each(n,function(e,t){t.data("oldStyle",t.attr("style")),t.css({position:"absolute",left:25*(e%4)+"%",top:25*Math.floor(e/4)+"%"})}),window.setTimeout(function(){t.removeClass(r.classes.loading),t.scrollTop(e.deck("getSlide").position().top)},0))}),e.deck("extend","hideMenu",function(){var t=e.deck("getContainer"),r=e.deck("getOptions");t.hasClass(r.classes.menu)&&(t.removeClass(r.classes.menu),t.addClass(r.classes.loading),Modernizr.csstransforms&&e.each(n,function(e,t){var n=t.data("oldStyle");t.attr("style",n?n:"")}),window.setTimeout(function(){t.removeClass(r.classes.loading),t.scrollTop(0)},0))}),e.deck("extend","toggleMenu",function(){e.deck("getContainer").hasClass(e.deck("getOptions").classes.menu)?e.deck("hideMenu"):e.deck("showMenu")}),t.bind("deck.init",function(){r(),o(),i(),a()}),t.bind("deck.change",function(t,n,r){var o,i,a=e.deck("getContainer");a.hasClass(e.deck("getOptions").classes.menu)&&(o=a.scrollTop(),i=e.deck("getSlide",r).position().top,a.scrollTop(o+i))})}(jQuery);