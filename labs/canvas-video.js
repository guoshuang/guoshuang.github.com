var processor={timerCallback:function(){if(!this.video.paused&&!this.video.ended){this.computeFrame();var e=this;setTimeout(function(){e.timerCallback()},0)}},doLoad:function(){this.video=document.getElementById("video"),this.c1=document.getElementById("c1"),this.ctx1=this.c1.getContext("2d"),this.c2=document.getElementById("c2"),this.ctx2=this.c2.getContext("2d");var e=this;this.video.addEventListener("play",function(){e.width=e.video.videoWidth,e.height=e.video.videoHeight,e.timerCallback()},!1)},computeFrame:function(){this.ctx1.drawImage(this.video,0,0,this.width,this.height);for(var e=this.ctx1.getImageData(0,0,this.width,this.height),t=e.data.length/4,i=0;t>i;i++){var s=e.data[4*i+0],a=e.data[4*i+1],o=e.data[4*i+2];a>100&&s>100&&43>o&&(e.data[4*i+3]=0)}this.ctx2.putImageData(e,0,0)}};processor.doLoad();