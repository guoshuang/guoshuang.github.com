<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>第 22 页 | Digest of guoshuang</title>
  <meta name="author" content="David Guoshuang">
  <meta name="description" content="web front end coder">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:site_name" content="Digest of guoshuang"/>
  <meta property="og:image" content="http://guoshuang.com/pics/guoshuang128.png"/>
  <link href="/favicon.ico" rel="icon" />
  <link rel="alternate" href="/atom.xml" title="Digest of guoshuang" type="application/atom+xml" />
  <link rel="stylesheet" href="/cs/style.css" media="screen" type="text/css" />
  <link href="/js/google-code-prettify/prettify.css" type="text/css" rel="stylesheet" media="screen" />
  <link href="/cs/font-awesome.min.css" type="text/css" rel="stylesheet" media="screen" />
  <link rel="author" href="https://plus.google.com/112004170577825985894" />
  <script src="/js/jquery-2.0.3.min.js"></script> 
  <!--[if lt IE 8]><script src="/js/jquery-1.9.1.min.js"></script><script src="/js/html5.js"></script><![endif]-->
  <link rel="stylesheet" href="/labs/gs.css" type="text/css" />
  <link rel="apple-touch-icon-precomposed" href="/guo128.png" />
</head>
<body>
<header id="header" class="inner">  <div class="alignleft">
    <h1><a href="/">Digest of guoshuang</a></h1>
  </div>
  <nav id="main-nav" class="alignright">
    <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/tools/">Tools</a></li>
        <li><a href="/portfolio/">Portfolio</a></li>
        <li><a href="/archives/">Archives</a></li>
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
  <div id="gWords"></div>
<div class="search" id="search">
  <form action="/labs/all.html" method="get" accept-charset="utf-8" target="_blank">
    <input type="search" name="q" placeholder="搜素" speech="speech" x-webkit-speech="x-webkit-speech" x-webkit-grammar="builtin:translate" />
  </form>
</div></header>
<div id="content" class="inner">
  <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  <div class="post-content">
    <header>
      <div class="date-wrapper">
        <div class="date-shadow"></div>
        <div class="date-mask"></div>
        <div class="dateTitle">
          <span class="d">10</span>
          <span class="ym">09/2014</span>
        </div>
      </div> 
    <h1 class="title"><a href="/web/gs-weather/">gs weather</a></h1>  
 <div class="meta">最后更新: <span class="pubTime">Wed Sep 10 2014 12:39:11 GMT+0800</span></div>
    </header>
    <div class="entry">
      
        <h3 id="根据_ip_取得天气信息">根据 ip 取得天气信息</h3>
<div id="gsWeather">请求中，请稍候…</div>

<script src="/labs/gsweather.js"></script>

<style>
#gsWeather {}
#gsWeather ul {padding: 0;margin: 0;list-style: none;}
#gsWeather ul li {
    padding: 0;margin: 0;list-style: none;
    width:25%;display: inline-block;background: #eee;
    border:solid 2px #fff;box-sizing:border-box;
}
#gsWeather ul li div {padding:5px;}
#gsWeather ul li .t {font-size:1.2em;text-align:center;}
#gsWeather ul li .w {}
#gsWeather ul li .i {text-align: center;}
</style>

<h3 id="原理">原理</h3>
<p><a href="http://www.wunderground.com/weather/api/d/docs?d=index" target="_blank" rel="external">wunderground</a> 的免费 API 每天 500次    每分钟 10次</p>
<p>可以自动ip 也可以 经纬度请求 geo 信息（11111就是你申请的 api key）</p>
<pre>
http://api.wunderground.com/api/11111/geolookup/q/34.341568,108.940175.json

或者

http://api.wunderground.com/api/11111/geolookup/q/autoip.json
</pre>

<p>天气 API 构造</p>
<pre>
http://api.wunderground.com/api/11111/forecast/lang:CN/q/china/xian.json
</pre>

<p>控制台中，两次 ajax 的数据：</p>
<ol>
<li>geo 信息</li>
<li>根据 geo 构造请求得到的 天气信息</li>
</ol>
<p>dataType:jsonp 可以跨域，：）当然，实际应用中还是建议使用后台 API </p>
<h3 id="gs-weather-info">ajax 返回数据</h3>

<p>当然，你可以直接在 控制台</p>
<p><code class="chrome no-flash">console.log(ajax_result1);</code></p>
<p><code class="chrome no-flash">console.log(ajax_result2);</code></p>

      
    </div> 
     
  </div>
</article>

<article class="post">
  <div class="post-content">
    <header>
      <div class="date-wrapper">
        <div class="date-shadow"></div>
        <div class="date-mask"></div>
        <div class="dateTitle">
          <span class="d">10</span>
          <span class="ym">09/2014</span>
        </div>
      </div> 
    <h1 class="title"><a href="/javascript/jquery-width-vs-outerWidth-vs-innerWidth/">jquery width vs. outerWidth vs. innerWidth</a></h1>  
 <div class="meta">最后更新: <span class="pubTime">Wed Sep 10 2014 12:37:50 GMT+0800</span></div>
    </header>
    <div class="entry">
      
        <ul>
<li>width() 自己宽度</li>
<li>innerWidth() 含 padding</li>
<li>outerWidth() 含 padding border</li>
<li>outerWidth(true) 含 padding border margin</li>
</ul>
<p>p <img src="http://www.w3schools.com/jquery/img_jquerydim.gif"></p>
<p>via <a href="http://www.w3schools.com/jquery/jquery_dimensions.asp" target="_blank" rel="external">http://www.w3schools.com/jquery/jquery_dimensions.asp</a></p>

      
    </div> 
     
  </div>
</article>

<article class="post">
  <div class="post-content">
    <header>
      <div class="date-wrapper">
        <div class="date-shadow"></div>
        <div class="date-mask"></div>
        <div class="dateTitle">
          <span class="d">14</span>
          <span class="ym">09/2014</span>
        </div>
      </div> 
    <h1 class="title"><a href="/javascript/reveal-js/">revealjs</a></h1>  
 <div class="meta">最后更新: <span class="pubTime">Sun Sep 14 2014 22:16:32 GMT+0800</span></div>
    </header>
    <div class="entry">
      
        <iframe src="/labs/reveal/tempreature.html" frameborder="0" style="height:400px;width: 100%;"></iframe>

<h3 id="data-transition">data-transition</h3>
<p>cube - page - concave - zoom - linear - fade - none - default</p>
<h3 id="fragment">fragment</h3>
<p>class=”fragment” 碎片 同一 section 中的 断点</p>
<h3 id="fragment_效果">fragment 效果</h3>
<p>class=”highlight-red”</p>
<p>grow shrink roll-in fade-out highlight-green highlight-blue 效果</p>
<h3 id="data-background=”#4d7e65”">data-background=”#4d7e65”</h3>
<p>设置背景</p>
<h3 id="data-background-transition=”slide”">data-background-transition=”slide”</h3>
<p>设置背景转场效果</p>

      
    </div> 
     
  </div>
</article>

<article class="post">
  <div class="post-content">
    <header>
      <div class="date-wrapper">
        <div class="date-shadow"></div>
        <div class="date-mask"></div>
        <div class="dateTitle">
          <span class="d">10</span>
          <span class="ym">09/2014</span>
        </div>
      </div> 
    <h1 class="title"><a href="/javascript/angularjs/">angularjs</a></h1>  
 <div class="meta">最后更新: <span class="pubTime">Wed Sep 10 2014 12:37:50 GMT+0800</span></div>
    </header>
    <div class="entry">
      
        <p><a href="/labs/angularjs/">/labs/angularjs/</a></p>
<p><a href="http://angularjs.org/" target="_blank" rel="external">http://angularjs.org/</a></p>

      
    </div> 
     
  </div>
</article>

<article class="post">
  <div class="post-content">
    <header>
      <div class="date-wrapper">
        <div class="date-shadow"></div>
        <div class="date-mask"></div>
        <div class="dateTitle">
          <span class="d">10</span>
          <span class="ym">09/2014</span>
        </div>
      </div> 
    <h1 class="title"><a href="/css/css3-column/">css3 column</a></h1>  
 <div class="meta">最后更新: <span class="pubTime">Wed Sep 10 2014 12:29:11 GMT+0800</span></div>
    </header>
    <div class="entry">
      
        <style> 
.newspaper {
    margin-top: 20px;
    column-count:3; -moz-column-count:3; -webkit-column-count:3;
    column-gap:40px;-moz-column-gap:40px;-webkit-column-gap:40px;
    column-rule:3px dotted #ccc;-moz-column-rule:3px dotted #ccc;-webkit-column-rule:3px dotted #ccc;
}
.newspaper2 {
    margin-top: 20px;
    column-width:5em;-moz-column-width:5em;-webkit-column-width:5em;
}
.newspaper3 {
    margin-top: 20px;
    columns:80px 3;-moz-columns:80px 3;-webkit-columns:80px 3;
}
</style>

<div class="newspaper"><br>    <p>1、太史公自序  且夫孝始于事亲，中于事君，终于立身。 《易》曰‘失之豪厘，差以千里’。   夫礼禁未然之前，法施已然之后；法之所为用者易见，而礼之所为禁者难知。</p>  <p>2、（史记·项羽本纪）  楚虽三户，亡秦必楚。 嗟夫，大丈夫生当如此也。  彼可取而代也。 项庄舞剑，意在沛公。  大行不顾细谨，大礼不辞小让。   人为刀俎，我为鱼肉。 战胜而将骄卒惰者败。  力拔山兮气盖世，时不利兮骓不逝。骓不逝兮可奈何，虞兮虞兮奈若何。 自矜功伐，奋其私智而不师古，谓霸王之业，欲以力征经营天下，五年卒亡 其国，身死东城，尚不觉寐而不自责，过矣。  </p><br>    <p>3、（高祖本纪）  忠言逆耳利于行，毒药苦口利于病。  夫运筹策帷帐之中，决胜于千里之外，吾不如子房。  大风起兮云飞扬，威加海内兮归故乡，安得猛士兮守四方！   </p><br>    <p>4、孔子世家  孔子曰：“君子固穷，小人穷则滥矣。”</p><br></div>

<div class="newspaper2"><br>    <p>1、太史公自序  且夫孝始于事亲，中于事君，终于立身。 《易》曰‘失之豪厘，差以千里’。   夫礼禁未然之前，法施已然之后；法之所为用者易见，而礼之所为禁者难知。</p>  <p>2、（史记·项羽本纪）  楚虽三户，亡秦必楚。 嗟夫，大丈夫生当如此也。  彼可取而代也。 项庄舞剑，意在沛公。  大行不顾细谨，大礼不辞小让。   人为刀俎，我为鱼肉。 战胜而将骄卒惰者败。  力拔山兮气盖世，时不利兮骓不逝。骓不逝兮可奈何，虞兮虞兮奈若何。 自矜功伐，奋其私智而不师古，谓霸王之业，欲以力征经营天下，五年卒亡 其国，身死东城，尚不觉寐而不自责，过矣。  </p><br>    <p>3、（高祖本纪）  忠言逆耳利于行，毒药苦口利于病。  夫运筹策帷帐之中，决胜于千里之外，吾不如子房。  大风起兮云飞扬，威加海内兮归故乡，安得猛士兮守四方！   </p><br>    <p>4、孔子世家  孔子曰：“君子固穷，小人穷则滥矣。”</p><br></div>

<div class="newspaper3"><br>    <p>1、太史公自序  且夫孝始于事亲，中于事君，终于立身。 《易》曰‘失之豪厘，差以千里’。   夫礼禁未然之前，法施已然之后；法之所为用者易见，而礼之所为禁者难知。</p>  <p>2、（史记·项羽本纪）  楚虽三户，亡秦必楚。 嗟夫，大丈夫生当如此也。  彼可取而代也。 项庄舞剑，意在沛公。  大行不顾细谨，大礼不辞小让。   人为刀俎，我为鱼肉。 战胜而将骄卒惰者败。  力拔山兮气盖世，时不利兮骓不逝。骓不逝兮可奈何，虞兮虞兮奈若何。 自矜功伐，奋其私智而不师古，谓霸王之业，欲以力征经营天下，五年卒亡 其国，身死东城，尚不觉寐而不自责，过矣。  </p><br>    <p>3、（高祖本纪）  忠言逆耳利于行，毒药苦口利于病。  夫运筹策帷帐之中，决胜于千里之外，吾不如子房。  大风起兮云飞扬，威加海内兮归故乡，安得猛士兮守四方！   </p><br>    <p>4、孔子世家  孔子曰：“君子固穷，小人穷则滥矣。”</p><br></div>

<h3 id="css_code">css code</h3>
<pre>
.newspaper {
    margin-top: 20px;
    column-count:3; -moz-column-count:3; -webkit-column-count:3;
    column-gap:40px;-moz-column-gap:40px;-webkit-column-gap:40px;
    column-rule:3px dotted #ccc;-moz-column-rule:3px dotted #ccc;-webkit-column-rule:3px dotted #ccc;
}
.newspaper2 {
    margin-top: 20px;
    column-width:5em;-moz-column-width:5em;-webkit-column-width:5em;
}
.newspaper3 {
    margin-top: 20px;
    columns:80px 3;-moz-columns:80px 3;-webkit-columns:80px 3;
}
</pre>

<ul>
<li>column-count  列数量</li>
<li>column-gap  列空隙宽度</li>
<li>column-rule   列间边框</li>
<li>column-width  列宽度</li>
<li>columns  列宽度和数量</li>
</ul>

      
    </div> 
     
  </div>
</article>

<article class="post">
  <div class="post-content">
    <header>
      <div class="date-wrapper">
        <div class="date-shadow"></div>
        <div class="date-mask"></div>
        <div class="dateTitle">
          <span class="d">10</span>
          <span class="ym">09/2014</span>
        </div>
      </div> 
    <h1 class="title"><a href="/css/bootstrap-less-mixin/">bootstrap less mixin 笔记</a></h1>  
 <div class="meta">最后更新: <span class="pubTime">Wed Sep 10 2014 12:29:11 GMT+0800</span></div>
    </header>
    <div class="entry">
      
        <p>@import 别人的 less mixin 可以节约大量的时间，：）</p>
<p><a href="https://github.com/twbs/bootstrap/blob/master/less/mixins.less" target="_blank" rel="external">bootstrap less mixin</a> 有大家风范，值得学习</p>
<p>2013-11-26 19:44:56+ 类似的还有 <a href="http://lesshat.com/" target="_blank" rel="external">LESS Hat</a> <a href="http://lesselements.com/" target="_blank" rel="external">LESS Elements</a>。 bootstrap less mixin 和 LESS Hat 更好一些。细节可以看这篇文章 <a href="http://designshack.net/articles/css/battle-of-the-less-mixin-libraries-less-elements-vs-less-hat-vs-bootstrap/" target="_blank" rel="external">Battle of the LESS Mixin Libraries: LESS Elements vs. LESS Hat vs. Bootstrap</a></p>
<h3 id="clearfix">clearfix</h3>
<p>目前最好的 self clear float 办法</p>
<pre>
.clearfix() {
  &amp;:before,
  &amp;:after {
    content: " "; /* 1 */
    display: table; /* 2 */
  }
  &amp;:after {
    clear: both;
  }
}    
</pre>

<h3 id="Center-align_a_block_level_element_块元素居中">Center-align a block level element 块元素居中</h3>
<pre>
.center-block() {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
</pre>

<h3 id="Sizing_shortcuts">Sizing shortcuts</h3>
<pre>
.size(@width; @height) {
  width: @width;
  height: @height;
}
.square(@size) {
  .size(@size; @size);
}
</pre>

<h3 id="文字溢出…">文字溢出…</h3>
<pre>
// Requires inline-block or block for proper styling
.text-overflow() {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
</pre>

<h3 id="隐藏文字">隐藏文字</h3>
<pre>
.text-hide() {
  font: ~"0/0" a;
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
}
</pre>

<h3 id="单边的圆角">单边的圆角</h3>
<pre>
.border-top-radius(@radius) {
  border-top-right-radius: @radius;
   border-top-left-radius: @radius;
}
.border-right-radius(@radius) {
  border-bottom-right-radius: @radius;
     border-top-right-radius: @radius;
}
.border-bottom-radius(@radius) {
  border-bottom-right-radius: @radius;
   border-bottom-left-radius: @radius;
}
.border-left-radius(@radius) {
  border-bottom-left-radius: @radius;
     border-top-left-radius: @radius;
}
</pre>

<h3 id="阴影">阴影</h3>
<pre>
.box-shadow(@shadow) {
  -webkit-box-shadow: @shadow; // iOS <4.3 &="" android="" <4.1="" box-shadow:="" @shadow;="" }="" <="" pre="">

<h3 id="厂商前缀">厂商前缀</h3>
<p>有些 -webkit- 并不是给 chrome 看的，有可能是“落后”的 safari 或者 android 浏览器。但我感觉手机上还是少用 阴影、3d、animation 等效果 —— “卡”！</p>
<pre>
// Transitions
.transition(@transition) {
  -webkit-transition: @transition;
          transition: @transition;
}
.transition-property(@transition-property) {
  -webkit-transition-property: @transition-property;
          transition-property: @transition-property;
}
.transition-delay(@transition-delay) {
  -webkit-transition-delay: @transition-delay;
          transition-delay: @transition-delay;
}
.transition-duration(@transition-duration) {
  -webkit-transition-duration: @transition-duration;
          transition-duration: @transition-duration;
}
.transition-transform(@transition) {
  -webkit-transition: -webkit-transform @transition;
     -moz-transition: -moz-transform @transition;
       -o-transition: -o-transform @transition;
          transition: transform @transition;
}

// Transformations
.rotate(@degrees) {
  -webkit-transform: rotate(@degrees);
      -ms-transform: rotate(@degrees); // IE9+
          transform: rotate(@degrees);
}
.scale(@ratio) {
  -webkit-transform: scale(@ratio);
      -ms-transform: scale(@ratio); // IE9+
          transform: scale(@ratio);
}
.translate(@x; @y) {
  -webkit-transform: translate(@x, @y);
      -ms-transform: translate(@x, @y); // IE9+
          transform: translate(@x, @y);
}
.skew(@x; @y) {
  -webkit-transform: skew(@x, @y);
      -ms-transform: skewX(@x) skewY(@y); // See https://github.com/twbs/bootstrap/issues/4885; IE9+
          transform: skew(@x, @y);
}
.translate3d(@x; @y; @z) {
  -webkit-transform: translate3d(@x, @y, @z);
          transform: translate3d(@x, @y, @z);
}

.rotateX(@degrees) {
  -webkit-transform: rotateX(@degrees);
      -ms-transform: rotateX(@degrees); // IE9+
          transform: rotateX(@degrees);
}
.rotateY(@degrees) {
  -webkit-transform: rotateY(@degrees);
      -ms-transform: rotateY(@degrees); // IE9+
          transform: rotateY(@degrees);
}
.perspective(@perspective) {
  -webkit-perspective: @perspective;
     -moz-perspective: @perspective;
          perspective: @perspective;
}
.perspective-origin(@perspective) {
  -webkit-perspective-origin: @perspective;
     -moz-perspective-origin: @perspective;
          perspective-origin: @perspective;
}
.transform-origin(@origin) {
  -webkit-transform-origin: @origin;
     -moz-transform-origin: @origin;
          transform-origin: @origin;
}

// Animations
.animation(@animation) {
  -webkit-animation: @animation;
          animation: @animation;
}
</pre>

<h3 id="防止_css_3d_transforms_时的闪烁（bug）">防止 css 3d transforms 时的闪烁（bug）</h3>
<pre>
// Backface visibility
// Prevent browsers from flickering when using CSS 3D transforms.
// Default value is "visible", but can be changed to "hidden"
.backface-visibility(@visibility){
  -webkit-backface-visibility: @visibility;
     -moz-backface-visibility: @visibility;
          backface-visibility: @visibility;
}
</pre>

<h3 id="选择_user-select">选择 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/user-select" target="_blank" rel="external">user-select</a></h3>
<p>none 表示禁止用户选择（很多操作，如点击、拖拽等 会导致双击选择文字！蓝汪汪一片。。。）</p>
<ul>
<li>all 全部（默认）</li>
<li>none 不能选</li>
<li>text 只能选文字</li>
<li>elemement </li>
</ul>
<pre>
// For selecting text on the page
.user-select(@select) {
  -webkit-user-select: @select;
     -moz-user-select: @select;
      -ms-user-select: @select; // IE10+
       -o-user-select: @select;
          user-select: @select;
}
</pre>

<p>其实还有一个</p>
<pre>
-webkit-touch-callout: none;
</pre>

<h3 id="css_resize">css resize</h3>
<pre>
.resizable(@direction) {
  resize: @direction; // Options: horizontal, vertical, both
  overflow: auto; // Safari fix
}
</pre>

<h3 id="css_columns">css columns</h3>
<p>列数、缝隙宽度</p>
<pre>
.content-columns(@column-count; @column-gap: @grid-gutter-width) {
  -webkit-column-count: @column-count;
     -moz-column-count: @column-count;
          column-count: @column-count;
  -webkit-column-gap: @column-gap;
     -moz-column-gap: @column-gap;
          column-gap: @column-gap;
}
</pre>

<h3 id="hyphens_连字符">hyphens 连字符</h3>
<p>英文单词换行时候的尴尬，中文没这个问题。</p>
<ul>
<li>none 不用连字符，单词直接到下一行开始</li>
<li>manual 在单词中间加入  <strong><em>&amp;shy;</em></strong> 建议给浏览器的断词位置！</li>
<li>auto 自动断词</li>
</ul>
<p>用 firefox 看看<a href="https://developer.mozilla.org/samples/cssref/hyphens.html" target="_blank" rel="external">这个 css hyphens 例子</a></p>
<pre>
.hyphens(@mode: auto) {
  word-wrap: break-word;
  -webkit-hyphens: @mode;
     -moz-hyphens: @mode;
      -ms-hyphens: @mode; // IE10+
       -o-hyphens: @mode;
          hyphens: @mode;
}
</pre>

<h3 id="透明">透明</h3>
<p>其实就是折腾 ie67 8 </p>
<pre>
.opacity(@opacity) {
  opacity: @opacity;
  // IE8 filter
  @opacity-ie: (@opacity * 100);
  filter: ~"alpha(opacity=@{opacity-ie})";
}
</pre>

<h3 id="Retina_images">Retina images</h3>
<p>根据屏幕（主要是苹果设备的精细屏）选择（两）倍尺寸的大图片。因为这时 px 没意义。而位图放大会变虚。我记得，似乎只有 opera 缩放图片用的是 双立方。其它都是 nearest neibour,line… 之类</p>
<pre>
.img-retina(@file-1x; @file-2x; @width-1x; @height-1x) {
  background-image: url("@{file-1x}");

  @media
  only screen and (-webkit-min-device-pixel-ratio: 2),
  only screen and (   min--moz-device-pixel-ratio: 2),
  only screen and (     -o-min-device-pixel-ratio: 2/1),
  only screen and (        min-device-pixel-ratio: 2),
  only screen and (                min-resolution: 192dpi),
  only screen and (                min-resolution: 2dppx) {
    background-image: url("@{file-2x}");
    background-size: @width-1x @height-1x;
  }
}
</pre>


<h3 id="图片自适应大小">图片自适应大小</h3>
<pre>
/ Keep images from scaling beyond the width of their parents.

.img-responsive(@display: block;) {
  display: @display;
  max-width: 100%; // Part 1: Set a maximum relative to the parent
  height: auto; // Part 2: Scale the height according to the width, otherwise you get stretching
}
</pre>

<h3 id="水平线">水平线</h3>
<pre>
// Dividers (basically an hr) within dropdowns and nav lists
.nav-divider(@color: #e5e5e5) {
  height: 1px;
  margin: ((@line-height-computed / 2) - 1) 0;
  overflow: hidden;
  background-color: @color;
}
</pre>

<p>在 <a href="https://github.com/twbs/bootstrap/blob/master/less/variables.less" target="_blank" rel="external">bootstrap variables.less</a> 中</p>
<pre>
@font-size-base:14px;
@line-height-base:        1.428571429; // 20/14

@line-height-computed:    floor(@font-size-base * @line-height-base); // ~20px
</pre> 

<p>未完…</p>
</4.3></pre>
      
    </div> 
     
  </div>
</article>

<article class="post">
  <div class="post-content">
    <header>
      <div class="date-wrapper">
        <div class="date-shadow"></div>
        <div class="date-mask"></div>
        <div class="dateTitle">
          <span class="d">10</span>
          <span class="ym">09/2014</span>
        </div>
      </div> 
    <h1 class="title"><a href="/javascript/jquery-parent-vs-parents-vs-closest-parentsUntil/">jquery parent vs parents vs closest vs parentsUntil</a></h1>  
 <div class="meta">最后更新: <span class="pubTime">Wed Sep 10 2014 12:37:50 GMT+0800</span></div>
    </header>
    <div class="entry">
      
        <h3 id="区别">区别</h3>
<p>closest()</p>
<p><strong>最近的XXX。</strong> 从自己开始，返回（第一个）父元素。。直到 过滤器表达式 为止</p>
<p>parents()</p>
<p><strong>长辈们。</strong> 从父元素开始，返回所有 父元素们。直到 过滤器表达式 为止</p>
<p>parent()</p>
<p><strong>老爸。</strong> 返回（第一个）父元素</p>
<p>parentsUntil()</p>
<p><strong>我和爷爷之间。</strong> </p>
<h3 id="语法">语法</h3>
<p>$(AAA).closest(filter,BBB)</p>
<p>表示 在 AAA 中先找到 BBB，然后向上匹配 filter（注意：filter 不能为空！）</p>
<h3 id="例子">例子</h3>
<div id="div2013-11-15"><br>    <div class="d1"><br>        <div class="d11"><br>            <div class="d111">111</div><br>            <div class="d112">112</div><br>        </div><br>    </div><br></div>

<style>
#div2013-11-15 div {border:solid 1px #ccc;padding:5px;margin:5px;}
#div2013-11-15 .d112 {background:#eee;}
#div2013-11-15 .div2013-11-15-effect {border:solid 2px red;}
</style>

<p><span class="btn btn-danger" onclick="$('.div2013-11-15-effect').removeClass('div2013-11-15-effect');">重置</span></p>
<h3 id="$(‘-d112’)_的">$(‘.d112’) 的</h3>
<p><span class="btn" onclick="$('.d112').parents('.d1').addClass('div2013-11-15-effect');">parents(‘.d1’)</span><br><span class="btn" onclick="$('.d112').parents().addClass('div2013-11-15-effect');">parents()</span><br><span class="btn" onclick="$('.d112').parent().addClass('div2013-11-15-effect');">parent()</span><br><span class="btn" onclick="$('.d112').closest('div').addClass('div2013-11-15-effect');">closest(‘div’)</span><br><span class="btn" onclick="$('.d112').parentsUntil('#div2013-11-15').addClass('div2013-11-15-effect');">parentsUntil()</span></p>

      
    </div> 
     
  </div>
</article>

<article class="post">
  <div class="post-content">
    <header>
      <div class="date-wrapper">
        <div class="date-shadow"></div>
        <div class="date-mask"></div>
        <div class="dateTitle">
          <span class="d">10</span>
          <span class="ym">09/2014</span>
        </div>
      </div> 
    <h1 class="title"><a href="/javascript/selectize-js/">selectize js</a></h1>  
 <div class="meta">最后更新: <span class="pubTime">Wed Sep 10 2014 12:37:50 GMT+0800</span></div>
    </header>
    <div class="entry">
      
        <p>selectize 和 select2 类似。</p>
<script src="/labs/selectize/selectize.js"></script>
<link rel="stylesheet" type="text/css" href="/labs/selectize/selectize.css">
<link rel="stylesheet" type="text/css" href="/labs/selectize/selectize.default.css">
<script src="/labs/selectize/selectize-mine.js"></script>

<h3 id="根据_input_value_生成_selectize">根据 input value 生成 selectize</h3>
<input id="slz1" type="text" value="郭爽,共扫">

<pre class="linenums">
&lt;input id="slz1" type="text" value="郭爽,共扫"&gt;
jQuery(function($){
    $('#slz1').selectize();
});
</pre>

<h3 id="根据_select_multiple_生成_selectize">根据 select multiple 生成 selectize</h3>
<p></p><p style="padding:10px 0;">当前值：<input id="slz2-input" style="font-size:1em;padding:3px 5px;"></p><p></p>
<select id="slz2" multiple><option value="shaanxi" selected>陕西</option><option value="beijing">北京</option><option value="henan">河南</option><option value="shanxi">山西</option><option value="hebei">河北</option></select>

<pre class="linenums">
&lt;p style="padding:10px 0;"&gt;当前值：&lt;input id="slz2-input" style="font-size:1em;padding:3px 5px;" /&gt;&lt;/p&gt;
&lt;select id="slz2" multiple&gt;&lt;option value="shaanxi" selected&gt;陕西&lt;/option&gt;&lt;option value="beijing"&gt;北京&lt;/option&gt;&lt;option value="henan"&gt;河南&lt;/option&gt;&lt;option value="shanxi"&gt;山西&lt;/option&gt;&lt;option value="hebei"&gt;河北&lt;/option&gt;&lt;/select&gt;
jQuery(function($){
    $('#slz2').selectize({
        dropdownParent: 'body',
        maxItems: 3,
        // onChange: function(v){
        //     console.log(v);
        // }
    }).on('change',function(){
        $('#slz2-input').val($(this).val());
    })
})
</pre>

<p>两种 change 都可以；maxItems 最多选择数量；dropdownParent: ‘body’ DOM 在 body 标签，避免被 position:relative;overflow:hidden 的元素 盖住！</p>
<h3 id="js_生成_select_option">js 生成 select option</h3>
<p></p><p style="padding:10px 0;">当前值：<input id="slz3-input" style="font-size:1em;padding:3px 5px;"></p><p></p>
<input id="slz3" type="text" value="">

<pre class="linenums">
&lt;p style="padding:10px 0;"&gt;当前值：&lt;input id="slz3-input" style="font-size:1em;padding:3px 5px;" /&gt;&lt;/p&gt;
&lt;input id="slz3" type="text" value=""&gt;
jQuery(function($){
    $('#slz3').selectize({
        valueField: 'id',
    labelField: 'title',
    searchField: 'id',
        options:[
            {id:11,title:'科学家',url:'#1'},
            {id:22,title:'歌唱家',url:'#1'},
            {id:33,title:'前端',url:'#1'},
            {id:44,title:'程序员',url:'#1'}
        ],
        create: true
    }).on('change',function(){
        $('#slz3-input').val($(this).val());
    });
});
</pre>

<h3 id="select_单选_js_控制">select 单选 js 控制</h3>
<select id="slz4" placeholder="请选择..."><br>    <option value=""></option><br>    <option value="1">山西</option><br>    <option value="2">湖南</option><br>    <option value="3">山东</option><br>    <option value="4">台湾</option><br></select>

<p><span class="btn" id="slz4-btn1">山西</span><span class="btn btn-success" id="slz4-btn2">台湾</span></p>
<h3 id="selectize_自定义">selectize 自定义</h3>
<p><!-- <select id="slz5" multiple></select> --></p>
<input type="text" value="search,home" id="slz5">

<pre>
$('#slz5').selectize({
        delimiter: ',',
        dropdownParent: 'body',
        valueField: 'title',
    searchField: 'title',
    options:[
        {title:'search'},
        {title:'home'},
        {title:'heart'},
        {title:'film'},
        {title:'off'},
        {title:'user'}
    ],
        render:{
            option:function(data){
                return '&lt;div class="option"&gt;&lt;i class="icon-'+data.title+'"&gt;&lt;/i&gt; &lt;span class="title"&gt;'+data.title+'&lt;/span&gt;&lt;/div&gt;';
            },
            item:function(data){
                return '&lt;div class="item"&gt;&lt;i class="icon-'+data.title+'"&gt;&lt;/i&gt; '+data.title+'&lt;/div&gt;';
            }
        },
        create:function(input){
            return {title:input}
        }
    });
</pre>

<h3 id="更多说明">更多说明</h3>
<ul>
<li>standalone 不需要 jquery 的版本。</li>
<li>selectize.css — Core styles</li>
<li>selectize.default.css — Default theme (with core styles)</li>
<li>ie8 需要  <pre class="linenums">&lt;!--[if lt IE 9]&gt;&lt;script src="http://cdnjs.cloudflare.com/ajax/libs/es5-shim/2.0.8/es5-shim.min.js"&gt;&lt;/script&gt;&lt;![endif]--&gt;</pre></li>
<li>可以跑 grunt </li>
<li>$(‘#select-locked’)[0].selectize.lock() 锁定（类似 disabled）</li>
</ul>
<p>via <a href="https://github.com/brianreavis/selectize.js" target="_blank" rel="external">https://github.com/brianreavis/selectize.js</a></p>

      
    </div> 
     
  </div>
</article>

<nav id="pagination">
  
    <a href="/p/21/" class="alignleft prev">上一页</a>
  
  
    <a href="/p/23/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav></div></div>  
  <aside id="sidebar" class="alignright">
  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/cat/css/">css</a><span class="category-list-count">75</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/design/">design</a><span class="category-list-count">39</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/frontend/">frontend</a><span class="category-list-count">64</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/hexo/">hexo</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/html5/">html5</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/javascript/">javascript</a><span class="category-list-count">84</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/life/">life</a><span class="category-list-count">38</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/mac/">mac</a><span class="category-list-count">35</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/mobile/">mobile</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/software/">software</a><span class="category-list-count">40</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/web/">web</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/cat/wordpress/">wordpress</a><span class="category-list-count">13</span></li></ul>
  <div class="clearfix"></div>
</div>

  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry"><li><a href="/tag/ace/">ace</a><small>1</small></li> <li><a href="/tag/ajax/">ajax</a><small>4</small></li> <li><a href="/tag/android/">android</a><small>2</small></li> <li><a href="/tag/angularjs/">angularjs</a><small>1</small></li> <li><a href="/tag/animation/">animation</a><small>1</small></li> <li><a href="/tag/apache/">apache</a><small>2</small></li> <li><a href="/tag/array/">array</a><small>2</small></li> <li><a href="/tag/audio/">audio</a><small>1</small></li> <li><a href="/tag/baidu/">baidu</a><small>1</small></li> <li><a href="/tag/blog/">blog</a><small>1</small></li> <li><a href="/tag/book/">book</a><small>2</small></li> <li><a href="/tag/bootstrap/">bootstrap</a><small>10</small></li> <li><a href="/tag/browser/">browser</a><small>4</small></li> <li><a href="/tag/bug/">bug</a><small>1</small></li> <li><a href="/tag/canvas/">canvas</a><small>6</small></li> <li><a href="/tag/car/">car</a><small>1</small></li> <li><a href="/tag/chart/">chart</a><small>8</small></li> <li><a href="/tag/china/">china</a><small>3</small></li> <li><a href="/tag/chrome/">chrome</a><small>11</small></li> <li><a href="/tag/coding/">coding</a><small>1</small></li> <li><a href="/tag/coffee/">coffee</a><small>5</small></li> <li><a href="/tag/color/">color</a><small>2</small></li> <li><a href="/tag/css/">css</a><small>77</small></li> <li><a href="/tag/css3/">css3</a><small>3</small></li> <li><a href="/tag/d3/">d3</a><small>2</small></li> <li><a href="/tag/design/">design</a><small>7</small></li> <li><a href="/tag/dns/">dns</a><small>1</small></li> <li><a href="/tag/drag/">drag</a><small>1</small></li> <li><a href="/tag/ejs/">ejs</a><small>1</small></li> <li><a href="/tag/email/">email</a><small>1</small></li> <li><a href="/tag/emmet/">emmet</a><small>4</small></li> <li><a href="/tag/entity/">entity</a><small>1</small></li> <li><a href="/tag/express/">express</a><small>1</small></li> <li><a href="/tag/feed/">feed</a><small>1</small></li> <li><a href="/tag/film/">film</a><small>3</small></li> <li><a href="/tag/finder/">finder</a><small>1</small></li> <li><a href="/tag/firefox/">firefox</a><small>3</small></li> <li><a href="/tag/fireworks/">fireworks</a><small>1</small></li> <li><a href="/tag/flatland/">flatland</a><small>1</small></li> <li><a href="/tag/flickr/">flickr</a><small>1</small></li> <li><a href="/tag/flot/">flot</a><small>5</small></li> <li><a href="/tag/font/">font</a><small>7</small></li> <li><a href="/tag/framework/">framework</a><small>1</small></li> <li><a href="/tag/front-end/">front-end</a><small>2</small></li> <li><a href="/tag/ftp/">ftp</a><small>1</small></li> <li><a href="/tag/fun/">fun</a><small>1</small></li> <li><a href="/tag/games/">games</a><small>2</small></li> <li><a href="/tag/geo/">geo</a><small>1</small></li> <li><a href="/tag/gfw/">gfw</a><small>1</small></li> <li><a href="/tag/git/">git</a><small>3</small></li> <li><a href="/tag/github/">github</a><small>3</small></li> <li><a href="/tag/goagent/">goagent</a><small>1</small></li> <li><a href="/tag/google/">google</a><small>6</small></li> <li><a href="/tag/hexo/">hexo</a><small>24</small></li> <li><a href="/tag/html/">html</a><small>4</small></li> <li><a href="/tag/html5/">html5</a><small>22</small></li> <li><a href="/tag/httpd/">httpd</a><small>1</small></li> <li><a href="/tag/human/">human</a><small>1</small></li> <li><a href="/tag/icon/">icon</a><small>3</small></li> <li><a href="/tag/ie/">ie</a><small>4</small></li> <li><a href="/tag/ie6/">ie6</a><small>1</small></li> <li><a href="/tag/input/">input</a><small>1</small></li> <li><a href="/tag/ios/">ios</a><small>1</small></li> <li><a href="/tag/jade/">jade</a><small>5</small></li> <li><a href="/tag/javascript/">javascript</a><small>76</small></li> <li><a href="/tag/javscript/">javscript</a><small>2</small></li> <li><a href="/tag/joke/">joke</a><small>1</small></li> <li><a href="/tag/jqm/">jqm</a><small>2</small></li> <li><a href="/tag/jquery/">jquery</a><small>24</small></li> <li><a href="/tag/jqueryui/">jqueryui</a><small>2</small></li> <li><a href="/tag/json/">json</a><small>2</small></li> <li><a href="/tag/jsonp/">jsonp</a><small>1</small></li> <li><a href="/tag/less/">less</a><small>9</small></li> <li><a href="/tag/life/">life</a><small>9</small></li> <li><a href="/tag/linux/">linux</a><small>1</small></li> <li><a href="/tag/loading/">loading</a><small>1</small></li> <li><a href="/tag/mac/">mac</a><small>24</small></li> <li><a href="/tag/map/">map</a><small>3</small></li> <li><a href="/tag/markdown/">markdown</a><small>3</small></li> <li><a href="/tag/meta/">meta</a><small>1</small></li> <li><a href="/tag/mobile/">mobile</a><small>8</small></li> <li><a href="/tag/mount/">mount</a><small>1</small></li> <li><a href="/tag/music/">music</a><small>2</small></li> <li><a href="/tag/network/">network</a><small>2</small></li> <li><a href="/tag/node/">node</a><small>2</small></li> <li><a href="/tag/nodewekit/">nodewekit</a><small>1</small></li> <li><a href="/tag/npm/">npm</a><small>2</small></li> <li><a href="/tag/optimize/">optimize</a><small>2</small></li> <li><a href="/tag/phonegap/">phonegap</a><small>2</small></li> <li><a href="/tag/php/">php</a><small>1</small></li> <li><a href="/tag/pics/">pics</a><small>2</small></li> <li><a href="/tag/prettify/">prettify</a><small>3</small></li> <li><a href="/tag/reference/">reference</a><small>2</small></li> <li><a href="/tag/sass/">sass</a><small>1</small></li> <li><a href="/tag/selectize/">selectize</a><small>1</small></li> <li><a href="/tag/shell/">shell</a><small>17</small></li> <li><a href="/tag/shortcut/">shortcut</a><small>2</small></li> <li><a href="/tag/software/">software</a><small>1</small></li> <li><a href="/tag/sparrow/">sparrow</a><small>2</small></li> <li><a href="/tag/ssh/">ssh</a><small>1</small></li> <li><a href="/tag/stackoverflow/">stackoverflow</a><small>1</small></li> <li><a href="/tag/stylus/">stylus</a><small>2</small></li> <li><a href="/tag/sublime/">sublime</a><small>18</small></li> <li><a href="/tag/svg/">svg</a><small>4</small></li> <li><a href="/tag/telnet/">telnet</a><small>1</small></li> <li><a href="/tag/template/">template</a><small>1</small></li> <li><a href="/tag/theme/">theme</a><small>2</small></li> <li><a href="/tag/tips/">tips</a><small>1</small></li> <li><a href="/tag/ubuntu/">ubuntu</a><small>2</small></li> <li><a href="/tag/ui/">ui</a><small>1</small></li> <li><a href="/tag/uikit/">uikit</a><small>1</small></li> <li><a href="/tag/underscore/">underscore</a><small>1</small></li> <li><a href="/tag/vehicle/">vehicle</a><small>1</small></li> <li><a href="/tag/video/">video</a><small>2</small></li> <li><a href="/tag/vim/">vim</a><small>3</small></li> <li><a href="/tag/weather/">weather</a><small>1</small></li> <li><a href="/tag/web/">web</a><small>14</small></li> <li><a href="/tag/webdesign/">webdesign</a><small>5</small></li> <li><a href="/tag/webgl/">webgl</a><small>1</small></li> <li><a href="/tag/windows/">windows</a><small>1</small></li> <li><a href="/tag/wordpress/">wordpress</a><small>14</small></li> <li><a href="/tag/wysiwyg/">wysiwyg</a><small>1</small></li> <li><a href="/tag/yeoman/">yeoman</a><small>1</small></li> <li><a href="/tag/正则/">正则</a><small>1</small></li> <li><a href="/tag/读书/">读书</a><small>8</small></li> </ul><div class="clearfix"></div>
</div>

  </aside>    
  <div class="clearfix"></div>
</div>

<footer id="footer" class="inner"><div class="alignleft">
    &copy; 2015  <a href="https://plus.google.com/112004170577825985894"
 rel="author">David Guoshuang</a>
  </div>
<div class="clearfix"></div></footer>
<!--[if lt IE 8]> <link rel="stylesheet" href="/cs/ie.css" type="text/css" /><![endif]--> 
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script><script type="text/javascript" src="/js/google-code-prettify/lang-css.js"></script> 
<script src="/js/moment.min.js"></script> <script src="/js/zh-cn.js"></script> <script src="/labs/gs.js"></script>
</body>
</html>